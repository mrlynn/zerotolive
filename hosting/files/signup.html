<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="description"
      content="Zero to Live - Launch and Scale your Startup"
    />
    <meta name="author" content="Michael Lynn" />

    <title>Zero to Live</title>

    <!-- Bootstrap core CSS -->
    <link href="./vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Custom fonts for this template -->
    <link href="./vendor/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <link
      href="./vendor/simple-line-icons/css/simple-line-icons.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic"
      rel="stylesheet"
      type="text/css"
    />

    <!-- Custom styles for this template -->
    <link href="./css/landing-page.min.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://s3.amazonaws.com/stitch-sdks/js/bundles/4.4.0/stitch.js"></script>
    <script src="./js/conf.js"></script>
  </head>

  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-light bg-light static-top">
      <div class="container">
            <a class="navbar-brand" href="/index.html">Zero to Live</a>
        </div>
    </nav>

    <!-- Form -->
    <section class="bg-light">
      <div class="container">
        <h2 class="mb-5">Tell us about your Startup...</h2>
        <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
          <form>
            <div class="form-group">
              <div class="form-row">
                <label for="txt_name">Name:</label>
                <input
                  type="text"
                  placeholder="Your Full Name"
                  name="txt_name"
                  id="txt_name"
                  class="form-control"
                />
              </div>
              <div class="form-row">
                <label for="txt_email">Company Email Address:</label>
                <input
                  type="text"
                  placeholder="you@yourcompany.com"
                  name="txt_email"
                  id="txt_email"
                  class="form-control"
                />
              </div>
              <div class="form-row">
                <label for="txt_address">Company Address:</label>
                <div class="col-lg-12 col-md-12">
                    <input
                    type="text"
                    placeholder="Address"
                    name="txt_address"
                    id="txt_address"
                    class="form-control"
                    />
                </div>
            </div>
            <div class="form-row">
                <div class="col-lg-8 col-md-8">
                        <input
                        type="text"
                        id="txt_city"
                        placeholder="City"
                        name="txt_city"
                        class="form-control"
                        />
                </div>
                <div class="col-lg-4 col-md-4">
                        <input
                        type="text"
                        id="txt_state"
                        name="txt_state"
                        txt_state"
                        placeholder="state"
                        class="form-control"
                        />
                </div>
            </div>
            <div class="form-row">
                    <div class="col-lg-7 col-md-7">
                            <input
                            type="text"
                            id="txt_country"
                            placeholder="Country"
                            name="txt_country"
                            class="form-control"
                            />
                    </div>
                    <div class="col-lg-5 col-md-5">
                            <input
                            type="text"
                            id="txt_postal"
                            name="txt_postal"
                            txt_state"
                            placeholder="postal code"
                            class="form-control"
                            />
                    </div>
                </div>
                <div class="row">
                  <div class="col-md-4 form-group">
                      <label for="ddl_lat">Your Location - Latitude</label>
                      <input type="text" id="ddl_lat" name="ddl_lat" value="" class="form-control">
                  </div>
                  <div class="col-md-4">
                      <label for="ddl_lon">Your Location - Longitude</label>
                      <input type="text" id="ddl_lon" name="ddl_lon" value="" class="form-control">
                  </div>
                  <div class="col-md-4">
                      <input type="geolocation" type="hidden" id="ddl_geolocation" name="ddl_geolocation">
                      <button type="button" class="btn btn-lg btn-info" onclick="showPosition();">Share Position</button>
                  </div>
              </div>
                <div class="form-row">
                        <label for="txt_addr">Experience with MongoDB:</label>

                        <div class="col-lg-12 col-md-12">
                            <select name="select_exp" id="select_exp" class="form-control">
                                    <option value="New">New</option>
                                    <option value="Played with it">Played with it</option>
                                    <option value="Used in prod">Used in production</option>
                                    <option value="Expert">Expert</option>
                                    </select>
                        </div>
                        
                    </div>
                <div class="form-row">
                        <label for="txt_addr">Company or Product Description:</label>

                        <div class="col-lg-12 col-md-12">
                                <textarea
                                id="txt_description"
                                name="txt_country"
                                class="form-control"
                                ></textarea>
                        </div>
                        
                    </div>
            <div class="form-row">
              <div class="col-12 col-md-3"><p></p>
                <button class="btn btn-block btn-lg btn-primary"
                    onclick="insertRecord();return false;"
                    class="btn btn-lg btn-success"
                    >
                  Sign up!
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </section>

      <!-- Footer -->
  <footer class="footer bg-light">
        <div class="container">
          <div class="row">
            <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
              <ul class="list-inline mb-2">
                <li class="list-inline-item">
                        <a href="/about.html">About</a>
                    </li>
                <li class="list-inline-item">&sdot;</li>
                <li class="list-inline-item">
                  <a href="/contact.html">Contact</a>
                </li>
                <li class="list-inline-item">&sdot;</li>
                <li class="list-inline-item">
                  <a href="/terms.html">Terms of Use</a>
                </li>
                <li class="list-inline-item">&sdot;</li>
                <li class="list-inline-item">
                  <a href="/privacy.html">Privacy Policy</a>
                </li>
              </ul>
              <p class="text-muted small mb-4 mb-lg-0">&copy; Michael Lynn 2020. All Rights Reserved.</p>
            </div>
            <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
              <ul class="list-inline mb-0">
                <li class="list-inline-item mr-3">
                  <a href="https://linkedin.com/in/mlynn">
                    <i class="fab fa-linkedin fa-2x fa-fw"></i>
                  </a>
                </li>
                <li class="list-inline-item mr-3">
                  <a href="https://twitter.com/mlynn">
                    <i class="fab fa-twitter-square fa-2x fa-fw"></i>
                  </a>
                </li>
                <li class="list-inline-item">
                  <a href="https://instagram.com/mlynnstagram">
                    <i class="fab fa-instagram fa-2x fa-fw"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script>
            const { Stitch, AnonymousCredential } = stitch;
      
            function insertRecord() {
              client.auth
                .loginWithCredential(new stitch.AnonymousCredential())
                .then(() => processRecord());
            }
    
            function processRecord() {
              var n = new Date();
              var obj = {};
              obj.mdb_created = n;
      
              obj.name = $("#txt_name").val();
              obj.address = $("#txt_address").val();
              obj.city = $("#txt_city").val();
              obj.state = $("#txt_state").val();
              obj.country = $("#txt_country").val();
              obj.postal = $("#txt_postal").val();
              obj.description = $("#txt_description").val();
              obj.exp = $("#select_exp").val();
              if ($("#ddl_lat").val().length > 0) {
                  var lat = $("#ddl_lat").val();
                  var lon = $("#ddl_lon").val();
                  var location = {};
                  location.type = "Point";
                  location.coordinates = [lon, lat];
                  obj.location = location;
                  console.log(obj);
              }
              obj.browser = {};
              obj.browser.ua = navigator.userAgent || undefined;
              obj.browser.lang = navigator.language || undefined;
              obj.browser.plat = navigator.platform || undefined;
              obj.owner = client.auth.authInfo.userId;
      
              db.collection("responses")
                .insertOne(obj)
                .then(recordSuccess)
                .catch(err => console.error(`login failed with error: ${err}`));
            }
      
            function recordSuccess() {
              window.location = "thankyou.html";
            }
      
            function getQueryVariable(variable) {
              var query = window.location.search.substring(1);
              var vars = query.split("&");
              for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) {
                  return pair[1];
                }
              }
            }
            function onLoad() {
              var value = getQueryVariable("utm_source");
              var e = document.getElementById("utm_source");
              e.value = value;
            }
            function showPosition() {
              if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                  var lat = position.coords.latitude;
                  var lon = position.coords.longitude;
                  document.getElementById("ddl_lat").value = lat.toFixed(2);
                  document.getElementById("ddl_lon").value = lon.toFixed(2);
                });
              } else {
                alert("Sorry, your browser does not support HTML5 geolocation.");
              }
            }
          </script>
  </body>
</html>
